<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/css/nav.css" />
  <link rel="stylesheet" href="/css/form-styles.css" />
  <link rel="stylesheet" href="/css/footer.css">
  <link rel="stylesheet" href="/my-account/style.css" />
  <link rel="stylesheet" href="/css/basics.css" />
  <link rel="stylesheet" href="/css/normlize.css" />
  <link rel="stylesheet" href="/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <title>Call2Buy</title>
</head>

<body>
  <nav>
    <div class="nav-con">
      <div class="logo"><a href="../home">Call2Buy</a></div>
      <div class="right-side">
        <input type="checkbox" id="bars" class="nav-checkbox">
        <ul>
          <li>
            <a href="../home">
              üè†Home
            </a>
          </li>
          <li>
            <a href="../sell-item">
              üì¶Sell Item
            </a>
          </li>
          <li id="nav-login">

            <a href="../login">
              üîëLogin
            </a>
          </li>
          <li id="nav-register">
            <a href="../register">
              üìÉRegister
            </a>
          </li>
          <li id="nav-username" style="display: none;">
            <a href="#">
            </a>
          </li>
          <li id="nav-logout" style="display: none;">
            <a href="#">
              üö™Logout
            </a>
          </li>
        </ul>
        <button class="toggle-theme">üîÜ</button>
        <label for="bars" class="bars-icon">
          <i class="fa-solid fa-bars bars"></i>
        </label>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="profile">
      <i class="fa-solid fa-user"></i>
      <div class="info">
        <h2>
          <%= locals.user.full_name %>
        </h2>
        <p>Member since <%= locals.user.created_at?.split("T")[0] %></p>
      </div>
    </div>
    <div class="pages">
      <button id="profile-page-btn">Profile</button>
      <button id="my-products-page-btn">My Products</button>
    </div>
    <hr>
    <div class="profile-section">
      <div class="account-info">
        <div class="edit">
          <h2>Account Information</h2>
          <button>Edit Info</button>
        </div>
        <div class="hidden" style="display: none;">
          <form action="" class="edit-form" id="edit-form">
            <div class="edit-info">
              <div class="edit-item">
                <label for="fullname">Full Name</label>
                <input type="text" id="full-name-input" value="" />
              </div>
              <div class="edit-item">
                <label for="email">Email</label>
                <input type="email" id="email-input" value="">
              </div>
              <div class="edit-item">
                <label for="phone">Phone</label>
                <input type="tel" id="phone-input" value="" />
              </div>
              <div class="edit-item">
                <label for="location">Location</label>
                <input type="text" id="location-input" value="" />
              </div>
            </div>
            <div class="edit-buttons">
              <button type="button" class="cancel-button" id="cancel-btn">Cancel</button>
              <button type="submit" class="save-button" id="save-btn">Save Changes</button>
            </div>
          </form>
          <hr>
          <div class="ubdate-password">
            <h2>Update Password</h2>
            <form action="" class="update-password-form" id="update-password-form">
              <div class="password-item">
                <label for="current-password">Current Password</label>
                <input type="password" id="current-password" minlength="8" required />
              </div>
              <div class="new-password">
                <div class="password-item">
                  <label for="new-password">New Password</label>
                  <input type="password" id="new-password" minlength="8" required />
                </div>
                <div class="password-item">
                  <label for="confirm-password">Confirm New Password</label>
                  <input type="password" id="confirm-password" minlength="8" required />
                </div>
              </div>
              <button type="submit" class="update-button" id="update-password-btn">Update Password</button>
            </form>
          </div>
        </div>
        <div class="info-item">
          <div class="items">
            <label for="fullname">Full Name</label>
            <p id="full-name">
              <%= locals.user.full_name %>
            </p>
          </div>

          <div class="items">
            <label for="email">Email</label>
            <p id="email">
              <%= locals.user.email %>
            </p>
          </div>
          <div class="items">
            <label for="phone">Phone</label>
            <p id="phone">
              <%= locals.user.phone %>
            </p>
          </div>
          <div class="items">
            <label for="location">Location</label>
            <p id="location">
              <%= locals.user.user_address %>
            </p>
          </div>
        </div>
      </div>
      <div class="delete-zone">
        <hr>
        <div class="delete-account">
          <h2>Delete Account</h2>
          <p>Deleting your account will permanently remove all your data, including your profile information and all
            product listings. This action cannot be undone.</p>
          <button class="delete-button" id="delete-account-btn">üóëÔ∏è Delete Account</button>
        </div>

      </div>
    </div>
    <div class="my-products-section" style="display: none;">
      <div class="header">
        <h2>My Products</h2>
        <a href="/sell-item" style="text-decoration: none;" class="add-product-button primary-button">+ Add Product</a>
      </div>
      <div class="products-list">
        <% locals.products.forEach(product=> { %>
          <div class="product-item">
            <img src="<%= product.mainImage %>" alt="<%= product.title %>" />
            <h3>
              <%= product.title%>
            </h3>
            <p>$<%= product.price %>
            </p>
            <div class="buttons-container">
              <a href="/edit/<%= product.product_id %>" class="edit-product-button primary-button">Edit</a>
              <button class="delete-product-button primary-button"
                data-product-id="<%= product.product_id %>">Delete</button>
            </div>
          </div>
          <% }) %>
      </div>
    </div>
  </div>




  <footer>
    <div class="footer-content">
      <div class="fotter-links">
        <a href="">About</a>
        <a href="">Contact</a>
        <a href="">Privacy</a>
        <a href="">Terms</a>
      </div>
      <div class="footer-sochal">
        <a href="">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733561.png" alt="LinkedIn" class="social-icon" />
        </a>
        <a href="https://github.com/Abbas49/Web-Project" target="_blank">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733553.png" alt="GitHub" class="social-icon" />
        </a>
        <a href="">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook" class="social-icon" />
        </a>
        <a href="">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="Instagram" class="social-icon" />
        </a>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 Call2Buy. All rights reserved.</p>
      <p>Developed with ‚ù§Ô∏è by <a href="">Call2Buy Team</a></p>
    </div>
  </footer>
  <script src="/js/toggle-theme.js"></script>
  <script src="/js/nav.js"></script>
  <script src="/my-account/script.js"></script>
</body>

</html>